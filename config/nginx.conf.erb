worker_processes 1;
daemon off;

events {
  worker_connections 1024;
}

http {
  # Add MIME types configuration
  include /etc/nginx/mime.types;
  default_type application/octet-stream;

  # Logs configuration
  error_log stderr;
  access_log /dev/stdout;

  sendfile on;
  keepalive_timeout 65;

  server {
    listen <%= ENV["PORT"] %>;
    server_name _;
    root /app;

    location / {
      index ni-demo.html;
      autoindex off;
      
      # Force content type for HTML files
      add_header Content-Type text/html;
      
      # Cache control headers
      add_header 'Cache-Control' 'no-cache, no-store, must-revalidate';
      add_header 'Pragma' 'no-cache';
      add_header 'Expires' '0';
    }
  }
}