worker_processes 1;
daemon off; # Run in the foreground

events {
  worker_connections 1024;
}

http {
  # Redirect all logs to Heroku's log stream
  error_log stderr;
  access_log /dev/stdout;

  # --- FIX: Remove the types block ---
  # types {
  #   text/html     html;
  #   text/css      css;
  #   application/javascript js;
  # }
  
  # --- FIX: Force the default type to text/html ---
  default_type  text/html;
  # -----------------------------------------------

  sendfile      on;
  keepalive_timeout 65;

  server {
    # Listen on the port Heroku provides
    listen <%= ENV["PORT"] %>;
    server_name _;
    
    # Set the root directory to your app's root
    root /app;

    location / {
      # Use ni-demo.html as the default file
      index ni-demo.html;
      
      # Turn off directory listing
      autoindex off; 
    }
  }
}

